!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=21)}({2:function(e,t,n){"use strict";function o(e){return document.getElementById(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.$id=o,t.$idA=function(e){return o(e)},t.$ready=function(e){document.addEventListener("DOMContentLoaded",e)},t.removeAllChildNodes=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},t.randomArrayItem=function(e){return e[Math.floor(Math.random()*e.length)]},t.randomArrayItemZipf=function(e){const t=Math.log(e.length+1);return e[Math.min(0|Math.exp(Math.random()*t),e.length)-1]},t.shuffle=function(e){for(let t=e.length-1;t;--t){const n=Math.floor(Math.random()*(t+1)),o=e[t];e[t]=e[n],e[n]=o}},t.sum=function(e){return e.reduce((e,t)=>e+t,0)},t.formatHexColor=function(e){return"#"+("00000"+e.toString(16)).slice(-6)},t.clamp=function(e,t,n){return Math.max(t,Math.min(e,n))}},21:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(2),r=n(6);!function(){let e,t;function n(e){let t="th";if(e===(0|e)){let n=e%100;n>3&&n<21||(1===(n%=10)&&(t="st"),2===n&&(t="nd"),3===n&&(t="rd"))}return e+"<sup>"+t+"</sup>"}function a(){if(!e||!t)return;function r(e,t,o,r){const a=new Date(1e3*e.time);return"<li"+(t>1?' class="indent">':">")+'<h1 data-rank="'+o+(t?'" class="tie">':'">')+n(o)+'</h1><h1 class="ranko" data-rank="'+r+'">'+n(r)+'</h1><img src="https://graph.facebook.com/'+e.uid+'/picture?width=80&amp;height=80"><h2><a href="https://www.facebook.com/'+e.uid+'">'+e.name+"</a></h2><h3>"+e.num.toLocaleString()+'</h3><span title="'+a.toISOString()+'" class="timeago_dynamic">'+a.toString()+"</span></li>"}$(".timeago_dynamic").timeago("dispose");const a=+$("input[name=leaderboard-tie]:checked").val();let i=+$("input[name=leaderboard-limit]:checked").val();(!i||i>e.length)&&(i=e.length);const l=+$("#poke-limit-lower").val()||1;let c="";for(let t=0;t<i&&!(e[t].num<l);++t)c+=r(e[t],e[t].tie,e[t].rank[a],e[t].rank[0]);$("#leaderboard1").html(c);let u=0;c="";for(let e=0;u<i&&e<t.length;++e)t[e].num<l||(c+=r(t[e],0,e+1,t[e].rank[a]),u++);o.$idA("leaderboard2").innerHTML=c,$(".timeago_dynamic").timeago()}function i(){a()}function l(n){e=Object.keys(n).map(e=>(function(e,t){return Object.assign({},e,{rank:[0,0,0,0,0,0],tie:0,uid:t})})(n[e],e)),t=e.slice(0),e.sort(function(e,t){return e.num!==t.num?t.num-e.num:e.time-t.time}),t.sort(function(e,t){return t.time-e.time}),function(){let n=0,o=0,r=0,a=0;for(let t=0;t<e.length;++t){const i=e[t];let l=0;if(t&&i.num===e[t-1].num)l=2;else{for(++n,o=r=t+1;r<e.length&&i.num===e[r].num;)++r;a=(o+r)/2,l=o!==r?1:0}const c=t+1;e[t].tie=l,e[t].rank[1]=n,e[t].rank[2]=o,e[t].rank[3]=a,e[t].rank[4]=r,e[t].rank[5]=c}for(let e=0;e<t.length;++e)t[e].rank[0]=e+1}(),a();const o=Array.apply(null,Array(e.length)).map((e,t)=>t+1),r=t[0].time;Plotly.restyle("opponentPlot",{x:[o,o],y:[e.map(e=>e.num),t.map(e=>(r-e.time)/86400)]}).then().catch()}function c(){firebase.initializeApp({apiKey:"AIzaSyDzwR0qYbl6QzA4pgw-LF7M6yxG2bWC7xo",databaseURL:"https://victor-poke.firebaseio.com"});const e=firebase.database();e.ref("info").on("value",function(e){if(!e)return;const t=e.val();var n,o;n=t.pokes,o=t.ticks,$("#poke_r").text(n.toLocaleString()),$("#poke_t").text(o.toLocaleString()),$("#poke_c").text((100*n/o).toFixed(4)+"%")}),e.ref("poke").on("value",function(e){e&&l(e.val())})}$(function(){if(c(),$("input[name=leaderboard-limit]").change(function(){a(),r.supportsLocalStorage()&&(localStorage.leaderboardLimit=$(this).val())}),$("input[name=leaderboard-tie]").change(function(){i(),r.supportsLocalStorage()&&(localStorage.leaderboardTie=$(this).val())}),$("#poke-limit-lower").change(function(){i(),r.supportsLocalStorage()&&(localStorage.leaderboardMinPokes=$(this).val())}),r.supportsLocalStorage()){const e=localStorage.leaderboardLimit,t=localStorage.leaderboardTie,n=localStorage.leaderboardMinPokes;e&&$('input:radio[name=leaderboard-limit][value="'+e+'"]').click(),t&&$('input:radio[name=leaderboard-tie][value="'+t+'"]').click(),n&&$("#poke-limit-lower").val(n)}Plotly.newPlot("opponentPlot",[{name:"highest first",type:"scatter"},{name:"recent first",type:"scatter",yaxis:"y2"}],{xaxis:{title:"rank",type:"log"},yaxis:{title:"number of pokes",type:"log"},yaxis2:{title:"days before most recent poke",type:"log",overlaying:"y",side:"right"},showlegend:!1}).then().catch()}),$(window).resize(function(){Plotly.Plots.resize(Plotly.d3.select("#opponentPlot").node())})}()},6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportsLocalStorage=function(){return!!window.localStorage}}});